\providecommand{\LILLYxBOXxBeweisxBox}{FALSE}
\providecommand{\LILLYxColorxBemerkung}{Charcoal}
\documentclass[Typ=Dokumentation]{Lilly}
\usepackage[subject={TestTip},author={EagleoutIce},version=1]{pdfcomment}


%%TODO INCLUDE TITLE-Control in lilly

%%Move \Lilly to Lilly :D


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sonderboxen                                                                                                         %     %%%% EXTRAS %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%taken and adaptet from tcolorbox
\newcommand{\ENVpar}[1]{\marginpar{\raggedleft\raisebox{1pt}{\T{\tiny\ttfamily env: #1}}}}
\newcommand{\CMDpreview}[2][]{\marginpar{\raggedleft\raisebox{1pt}{\T{\tiny\ttfamily \textbackslash #2}}}\T{\textbackslash #2#1}}
\newcommand{\CMDshow}[2][]{\T{\textbackslash #1#2}}


\usepackage{aurical}
\newcommand{\Jake}[1][~]{\jmark[\begingroup\Fontauri Jake#1\endgroup]{mrk:JAKE}}
\newcommand{\LJake}[1][~]{\begingroup\T|lilly\_jake|\endgroup#1}

\newcommand*{\blankcmd}[1]{\textcolor{Orchid}{\LILLYxlstTypeWriter\textbackslash #1}}
\newcommand*{\blankenv}[1]{\textcolor{AppleGreen}{\LILLYxlstTypeWriter env@#1}}
\newcommand*{\blankenvidx}[1]{\textcolor{AppleGreen}{\LILLYxlstTypeWriter env~@#1}}

\newcommand*{\secline}{\newline\hbox{}\protect\qquad\quad}

\def\typesetVersion#1{\text{\ifthenelse{\equal{#1}{\LILLYxVERSION}}{\color{DebianRed}\bfseries}{}\tiny\T{v#1}\normalcolor}}

\makeatletter
%% [Version][Tagname][Additionals]
\DeclareDocumentCommand{\presentStuff}{ o m o } { %% \ifthenelse{\equal{#4}{}}{}{\\\qquad#4}
  \begingroup~\newline\elable{cmd:#3}%\IfValueTF{#3}{\elable{cmd:#3}}{\elable{cmd:#2}}%
  \hspace*{-1.5cm}$\diamond$~~\parbox[t]{0.9\linewidth}{#2}\hbox{}\hfill{\typesetVersion{#1}}\smallskip\newline %% link to version history? => make command list at end with retrospective version tag
\endgroup%
}
\makeatother



% %%% Listen für Versionen der entsprechendne Befehle
% \foreach \major in {1} { %% Construct Versions
%     \foreach \minor in {0} {
%         \foreach \iteration in {0,...,10} {
%             \newlistof{Version\major\minor\iteration}{\major.\minor.\iteration}{Version \major.\minor.\iteration}
%         }
%     }
% }

\DeclareDocumentCommand{\addcmd}{ O{1.0.0} m}{
    \index{#2@{\blankcmd{#2}~~{\tiny\T{(v#1)}}}}%
}
\DeclareDocumentCommand{\addenv}{ O{1.0.0} m}{
    \index{#2@{\blankenvidx{#2}~~{\tiny\T{(v#1)}}}}%
}

\DeclareDocumentCommand{\anothercmd}{ O{1.0.0} m}{\index{#2@{\blankcmd{#2}~~{\tiny\T{(v#1)}}}}\blankcmd{#2}}%
\DeclareDocumentCommand{\anotherenv}{ O{1.0.0} m}{\index{#2@{\blankenvidx{#2}~~{\tiny\T{(v#1)}}}}\blankenv{#2}}%

%% Since,
\DeclareDocumentCommand{\presentCommand}{ O{1.0.0} m O{} } {%
    \presentStuff[#1]{\blankcmd{#2#3}}[#2]\addcmd[#1]{#2}%
}
\DeclareDocumentCommand{\presentEnvironment}{ O{1.0.0} m O{} }{%
    \presentStuff[#1]{\blankenv{#2#3}}[#2]\addenv[#1]{#2}%
}
\newcommand*{\frmttxt}[1]{\begingroup\color{black}\emph{#1}\endgroup}
\newcommand*{\cmdlist}{\begingroup\color{black},\;\endgroup}
\newcommand*{\manArg}[1]{\{\frmttxt{#1}\}}
\newcommand*{\optArg}[2][]{[\frmttxt{#2\ifthenelse{\equal{#1}{}}{}{=$\langle$#1$\rangle$}}]}
\newcommand*{\cmdold}{~\LILLYxNOTExWarning{Veraltet}}

\newcommand{\displayCommandList}[2][2]{%
\begin{multicols}{#1}%
    \begin{ditemize}\narrowitems%
        \foreach \cmd in {#2}{%
            \item \blankcmd{\cmd} (\ensuremath{\csname \cmd\endcsname})%
        }%
    \end{ditemize}%
\end{multicols}%
}

\def\compileidx{\makeindex[title=Stichwortverzeichnis,options=-s \LILLYxPATHxINDEX,columns=2,columnsep=0.75cm]\renewcommand{\indexname}{Stichwortverzeichnis}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Dokumentation                                                                                                       %     %%%% DOC %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\indexname}{Befehle}
\compileidx


% BIG TODO: add all the other commands with \anothercmd, \anotherenv
%
% AND: TODO: change name of last chapter
%
%
%



\begin{document}
\LILLYxLayoutxClear
    \linput{Data/Title.doc}
    \linput{Data/Abstract.doc}\clearpage
\elable{eagleTOC}
\listofTOPS\clearpage
\LILLYxLayoutxRestore


\linput{Data/Einleitung.doc}
\linput{Data/Maths.doc}
\linput{Data/Grafiken.doc}
\linput{Data/Farben.doc}
\linput{Data/Listings.doc}
\linput{Data/Boxen.doc}
\linput{Data/Jake.doc}


\linput{Data/Aussicht.doc}
\normalmarginpar\par
\chapter{Anhang}
\TitleSUB{Veraltete Dokumente, Zusätzliches, Easter-Eggs, \ldots}
\linput{Data/Old/Ver10007.doc.old}
\clearpage
\linput{Data/Old/Ver10009.doc.old}
\clearpage
\thispagestyle{empty}
\printindex
\end{document}