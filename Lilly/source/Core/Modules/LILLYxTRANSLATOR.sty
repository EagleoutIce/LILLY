\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{LILLYxTRANSLATOR}[2019/09/29 Stellt einen Uebersetzer fuer LILLY zur Verfuegung]

\RequirePackage{LILLYxVANILLA}
\RequirePackage{LILLYxPACKAGExCTRL}
\RequirePackage{LILLYxCONTROLLERxCONTENT}

%% https://ctan.org/pkg/translator
\LILLYxDemandPackage{translator}{Fuer Uebersetzungen}%% Package, Info
    {Ohne gehts nedda :/}%% Error-Text
    {}{}


\RequirePackage{kvoptions}                                 %Erweiterte Optionen

% ifLILLY@english: Load the english-dictonary
\DeclareBoolOption[false]{english}\DeclareComplementaryOption{noenglish}{english}

% ifLILLY@german: Load the german-dictonary
\DeclareBoolOption[true]{german}\DeclareComplementaryOption{nogerman}{german}

\ProcessKeyvalOptions*                                     % Verarbeite Paketargumente (Optionen, wie auch immer)


%% Maybe make them real dictonraies?

\ifLILLYxTRANSLATOR@english
\InputIfFileExists{\LILLYxABSPATHxCORE/Modules/Dictonaries/english.dict}{}{\typeout{English dict not found enable shell escape?}}
\fi

\ifLILLYxTRANSLATOR@german
\InputIfFileExists{\LILLYxABSPATHxCORE/Modules/Dictonaries/german.dict}{}{\typeout{German dict not found enable shell escape?}}
\fi


\newcommand\xtranslate[2][]{%
    \iftranslationdefined{#2}{%
        \translate{#2}%
    }{%
        \ifx\\#1\\#2\else#1\fi% if #1 is empty set #2
    }%
}
% TODO PROVIDE xtranslate with an optional argument. this one should be placed if neither of the dictonaries can be found. !!! TODO TODO TODO TODO ETC :P

\endinput