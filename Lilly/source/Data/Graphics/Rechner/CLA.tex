\gdef\GRAPHICSxCLA{%
\begin{tikzternal}[scale=0.7, every node/.style=transform shape]
        \begin{scope}[every node/.style={black}, every path/.style={black}]
            \node[below] at(-1,0) (c0) {\tiny \(c_0\)};
            \draw (c0) -- ++(0,1.5) -| ++(0.5,0.755+0.2);
            \bigCRing[black] {(c0) ++(0,1.5)};
            \draw (c0)++(0,1.5) |- ++(17.55,4.12) node[right] {\tiny \(c_0\)};
        \end{scope}
        \begin{scope}[every node/.style={tealblue}, every path/.style={tealblue}]
            %%s1
            \draw (1.75,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) -- ++(0,-0.5);
            \draw (1.75,2.5)++(1,2)++(-0.125,0) -- ++(0,0.85)++(-0.25,0.6) -- ++(0,-1.45);
            \bigCRing[tealblue]{(1.75,2.5)++(1,2)++(-0.125,0)++(0,0.85)};
            \bigCRing[tealblue]{(1.75,2.5)++(1,2)++(-0.125,0)++(0,0.85)++(-0.25,0.6)};

        \end{scope}

        \foreach \x/\xc/\xoff [count=\xi] in {0/tealblue/0,1/black/0,2/tealblue/0,3/black/0.85}{
            \begin{scope}[every node/.style={color=\xc,font=\tiny}, every path/.style={\xc}]
                \node[below] at(4*\x,0) (a\x) {\(A_\x\)};
                \node[below] at(4*\x+0.5,0) (b\x) {\(B_\x\)};
                \draw (a\x) -- ++(0,1) (b\x) -- ++(0,1);
                \draw (a\x)++(-0.25,1) rectangle ++(1,1) node[midway,centered] {\normalsize =1};
                \bigRing{(4*\x,0.2)}; \bigRing{(4*\x+0.5,0.5)};
                \draw (4*\x,0.2) -| ++(1.1,0.5);
                \draw (4*\x+0.5,0.5) -| ++(1.1,0.2);
                \draw (4*\x,0.2)++(1.1,0.5)++(-0.25,0) rectangle ++(1,1) node[midway,centered] {\large \&} ++(-0.5,0) -- ++(0,3.95+\x) -- ++(15.2-4*\x,0)  node[right] {\(A_\x \cdot B_\x\)};
                \draw (a\x)++(0.25,2) |- ++(-0.125,0.25) -| ++(-0.125,0.25) ++(0.25,0) rectangle ++(-1,1) node[midway,centered] {\normalsize =1} ++(0.5,0) -- ++(0,7) node [above] {\large \(s_\x\)};
                \bigCRing[\xc]{(a\x)++(0.25,2)++(-0.125,0.25)++(-0.125,0.25)++(0.25,0-0.25)};
                \draw (a\x)++(0.25,2)++(-0.125,0.25)++(-0.125,0.25)++(0.25,0-0.25) -| ++(0.3,1) node [] (xorC\x) {} -- ++(0,3+\x) -- ++(16-4*\x,0) node[right] {\(A_\x \oplus B_\x\)};
                \draw (4*\x+1.75,2.5) rectangle ++(1,1) node[midway,centered,rotate=180] {\normalsize \(\geq 1\)} ++(-0.85,0) -- ++(0,2.15+\x);
                \bigCRing[\xc]{(4*\x+1.75,2.5)++(1,1)++(-0.85,0)++(0,2.15+\x)};
                \draw (4*\x+1.75,2.5)++(1,2)++(-0.5,-0.5)++(0.25,0)++(0,-0.5) ++ (-0.25,-1) |- ++(1.25+\xoff,-0.9) node[pos=0.75,below] {\(c_\xi\)}-- ++(0,0.6);
            \end{scope}
        }
        \draw (4*3+1.75,2.5)++(1,2)++(-0.5,-0.5)++(0.25,0)++(0,-0.5) ++ (-0.25,-1)++(1.25+0.85,-0.9)++(0,0.6)--++(0,8) node[above] {\Large \(c_4\)};

        \begin{scope}[every node/.style={black}, every path/.style={black}]
            %%s2
            \draw (4+1.75+0.25,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) |- ++(-0.125,-0.25) -- ++(0,-0.25);
            \draw (4+1.75+.25,2.5)++(1,2)++(-0.125,0) -- ++(0,0.85+0.3)++(-0.25,1.3) -- ++(0,-2.45);

            \bigCRing[black]{(4+1.75+.25,2.5)++(1,2)++(-0.125,0)++(0,0.85+0.3)};
            \bigCRing[black]{(4+1.75+.25,2.5)++(1,2)++(-0.125,0)++(0,0.85+0.3)++(-0.25,1.3)};


            %%s2.3
            \draw (4+1.75-0.25,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) -- ++(0,-0.5);
            \draw  (4+1.75-0.25,2.5)++(1,2)++(-0.25/3,0) -- ++(0,0.85)++(-0.25,1.6) -- ++(0,-2.45) ++(+0.25/2,0) -- ++(0,1.45);

            \bigCRing[black]{(4+1.75-0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85)};
            \bigCRing[black]{(4+1.75-0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85)++(-0.25,1.6)};
            \bigCRing[black]{(4+1.75-0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85)++(-0.25,1.6)++(+0.25/2,-2.45)++(0,1.45)};


            %%4
            \draw (12+1.75+1.25,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) |- ++(-0.125-1,-0.25) -- ++(0,-0.25);
            \draw (12+1.75+1.25,2.5)++(1,2)++(-0.125,0) -- ++(0,2.85+0.3)++(0,-2)++(-0.25,3.3) -- ++(0,-4.45);

            \bigCRing[black]{(12+1.75+1.25,2.5)++(1,2)++(-0.125,0)++(0,2.85+0.3)};
            \bigCRing[black]{(12+1.75+1.25,2.5)++(1,2)++(-0.125,0)++(0,2.85+0.3)++(0,-2)++(-0.25,3.3)};

            %%4.3
            \draw (12+1.75+0.75,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) |- ++(-0.35-0.45,-0.125) -- ++(0,-0.25-0.125);
            \draw  (12+1.75+0.75,2.5)++(1,2)++(-0.25/3,0) -- ++(0,1.85+0.3)++(0,-1)
                    ++(-0.25,3.3) -- ++(0,-4.45) ++(+0.25/2,0) -- ++(0,3.15);

            \bigCRing[black]{(12+1.75+0.75,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.3)};
            \bigCRing[black]{(12+1.75+0.75,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.3)++(0,-1)++(-0.25,3.3)};
            \bigCRing[black]{(12+1.75+0.75,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.3)++(0,-1)++(-0.25,3.3)++(0,-4.45) ++(+0.25/2,0)++(0,3.15)};

            %%4.4
            \draw (12+1.75+0.25,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) |- ++(-0.35-0.35,-0.125/2) -- ++(0,-0.25-0.175);
            \draw  (12+1.75+0.25,2.5)++(1,2)++(-0.25/3,0) -- ++(0,1.85+0.6)
                    ++(-0.225,1) -- ++(0,-3.45) ++(+0.225/2,0) -- ++(0,1.15)
                    (12+1.75-0.6+0.5,2.5)++(1,2)++(-0.25/3,0) -- ++(0,4.45) ;

            \bigCRing[black]{(12+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.6)};
            \bigCRing[black]{(12+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.6) ++(-0.225,1) };
            \bigCRing[black]{(12+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.6) ++(-0.225,1) ++(0,-3.45) ++(+0.225/2,0)++(0,1.15)};
            \bigCRing[black]{(12+1.75-0.6+0.5,2.5)++(1,2)++(-0.25/3,0)++(0,4.45) };

            %%4.5
            \draw (12+1.75-0.25,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) -- ++(0,-0.5);
            \draw  (12+1.75-0.225,2.5)++(1,2)++(-0.25/4,0) -- ++(0,1.85+0.6)
                    ++(-0.2125,1) -- ++(0,-3.45) ++(+0.2125/2,0) -- ++(0,1.45)
                    (12+1.75-0.525,2.5)++(1,2)++(-0.25/3,0) -- ++(0,4.45)
                    (12+1.75-0.625,2.5)++(1,2)++(-0.25/3,0) -- ++(0,0.85) ;

            \bigCRing[black]{(12+1.75-0.225,2.5)++(1,2)++(-0.25/4,0)++(0,1.85+0.6)};
            \bigCRing[black]{(12+1.75-0.225,2.5)++(1,2)++(-0.25/4,0)++(0,1.85+0.6)++(-0.2125,1)};
            \bigCRing[black]{(12+1.75-0.225,2.5)++(1,2)++(-0.25/4,0)++(0,1.85+0.6)++(-0.2125,1)++(0,-3.45) ++(+0.2125/2,0)++(0,1.45)};
            \bigCRing[black]{(12+1.75-0.525,2.5)++(1,2)++(-0.25/3,0) ++(0,4.45)};
            \bigCRing[black]{(12+1.75-0.625,2.5)++(1,2)++(-0.25/3,0) ++(0,0.85)};


            %\bigCRing[black]{(12+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.6)};
            %\bigCRing[black]{(12+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.6) ++(-0.225,1) };
            %\bigCRing[black]{(12+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,1.85+0.6) ++(-0.225,1) ++(0,-3.45) ++(+0.225/2,0)++(0,1.15)};
            %\bigCRing[black]{(12+1.75-0.6+0.5,2.5)++(1,2)++(-0.25/3,0)++(0,4.45) };

        \end{scope}

        \begin{scope}[every node/.style={black,thick}, every path/.style={black,thick}]

        \end{scope}


        \begin{scope}[every node/.style={tealblue}, every path/.style={tealblue}]

            %%s3
            \draw (8+1.75+0.75,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) |- ++(-0.125-0.5,-0.25) -- ++(0,-0.25);
            \draw (8+1.75+.75,2.5)++(1,2)++(-0.125,0) -- ++(0,0.85+1.3)++(-0.25,1.3) -- ++(0,-3.45);

            \bigCRing[tealblue]{(8+1.75+.75,2.5)++(1,2)++(-0.125,0)++(0,0.85+1.3)};
            \bigCRing[tealblue]{(8+1.75+.75,2.5)++(1,2)++(-0.125,0)++(0,0.85+1.3)++(-0.25,1.3)};

            %%s3.3
            \draw (8+1.75+0.25,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) |- ++(-0.35,-0.125) -- ++(0,-0.25-0.125);
            \draw  (8+1.75+0.25,2.5)++(1,2)++(-0.25/3,0) -- ++(0,0.85+0.3)
                    ++(-0.25,2.3) -- ++(0,-3.45) ++(+0.25/2,0) -- ++(0,2.15);

            \bigCRing[tealblue]{(8+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85+0.3)};
            \bigCRing[tealblue]{(8+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85+0.3)++(-0.25,2.3)};
            \bigCRing[tealblue]{(8+1.75+0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85+0.3)++(-0.25,2.3)++(0,-3.45) ++(+0.25/2,0)++(0,2.15)};

            %%s3.4
            \draw (8+1.75-0.25,2.5)++(1,2) rectangle ++(-0.5,-0.5) node[midway,centered,rotate=180] {\tiny \&} ++(0.25,0) -- ++(0,-0.5);
            \draw  (8+1.75-0.25,2.5)++(1,2)++(-0.25/3,0) -- ++(0,0.85)
                    ++(-0.225,1.6) -- ++(0,-2.45) ++(+0.225/2,0) -- ++(0,1.45)
                    (8+1.75-0.6,2.5)++(1,2)++(-0.25/3,0) -- ++(0,3.45) ;

            \bigCRing[tealblue]{(8+1.75-0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85)};
            \bigCRing[tealblue]{(8+1.75-0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85)++(-0.225,1.6)};
            \bigCRing[tealblue]{(8+1.75-0.25,2.5)++(1,2)++(-0.25/3,0)++(0,0.85)++(-0.225,1.6) ++(0,-2.45)++(+0.225/2,0)++(0,1.45)};
            \bigCRing[tealblue]{(8+1.75-0.6,2.5)++(1,2)++(-0.25/3,0)++(0,3.45)};

        \end{scope}

        %\draw (a0)++(0.25,2) |- ++(-0.125,0.15) -| ++(-0.125,0.15) ++(0.25,0) rectangle ++(-1,1);

    \end{tikzternal}
}
\LILLYcommand\LILLYxGRAPHICSxSHOW{\GRAPHICSxCLA}
