\gdef\GRAPHICSxUMLSEQObserverPattern{%
\begin{tikzternal}[scale=0.75, every node/.style={transform shape}]
    \foreach \l [count=\x] in {%
        {coA: ConcreteObserverA},
        {coB: ConcreteObserverB},
        {   : Subject}%
    }{%
        \draw (6*\x,0) rectangle ++(5,1) node[midway,centered] {\underline{\l}};
        \draw[densely dashed] (6*\x+2.5,0) -- ++(0,-9);
    }
    \foreach \lfrom/\lto/\ltext [count=\y] in {%
        1/3/{registerObserver(coA)},
        2/3/{registerObserver(coB)},
        0/{}/{},% Empty for EventX
        3/1/{notify()},
        3/2/{notify()},
        0/{}/{},% Empty for EventY
        3/1/{notify()},
        3/2/{notify()}
    }{%
        \ifnum\lfrom>0
        \ifnum\lfrom<\lto
        \draw[-latex,thick] (6*\lfrom+2.5,-\y) node[above right,xshift=0.25cm] {\T{\ltext}} -- (6*\lto+2.5,-\y);
        \else
        \draw[-latex,thick] (6*\lfrom+2.5,-\y) -- (6*\lto+2.5,-\y) node[above right,xshift=0.25cm] {\T{\ltext}};
        \fi\fi
    }

    % Events
    \filldraw (3*6+2.5,-3) circle (3pt) node [right,xshift=0.25cm] {\Large\itshape EventX};

    \filldraw (3*6+2.5,-6) circle (3pt) node [right,xshift=0.25cm] {\Large\itshape EventY};
\end{tikzternal}}
\LILLYcommand\LILLYxGRAPHICSxSHOW{\GRAPHICSxUMLSEQObserverPattern}