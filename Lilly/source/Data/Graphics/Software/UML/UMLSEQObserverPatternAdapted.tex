\gdef\GRAPHICSxUMLSEQObserverPattern{%
\begin{tikzternal}[scale=0.75, every node/.style={transform shape}]
    \foreach \l [count=\x] in {%
        {coA: ConcreteObserverA},
        {coB: ConcreteObserverB},
        {   : Subject},
        {eventX : Event}%
    }{%
        \draw (6*\x,0) rectangle ++(5,1) node[midway,centered] {\underline{\l}};
        \ifnum\x<4
        \draw[densely dashed] (6*\x+2.5,0) -- ++(0,-9);
        \fi
    }

    \draw[densely dashed] (6*4+2.5,-5) -- ++(0,-4);


    \foreach \lfrom/\lto/\ltext [count=\y] in {%
        1/3/{registerObserver(coA)},
        2/3/{registerObserver(coB)},
        0/{}/{},% Empty for EventX
        0/{}/{},% Empty for EventX double :D
        3/4/{create()},
        4/3/{}, %% maybe make dashed?
        3/1/{notify(eventX)},
        3/2/{notify(eventX)}
    }{%
        \ifnum\lfrom>0
        \ifnum\lfrom<\lto
        \draw[-latex,thick] (6*\lfrom+2.5,-\y) node[above right,xshift=0.25cm] {\T{\ltext}} -- (6*\lto+2.5,-\y);
        \else
        \draw[-latex,thick] (6*\lfrom+2.5,-\y) -- (6*\lto+2.5,-\y) node[above right,xshift=0.25cm] {\T{\ltext}};
        \fi\fi
    }

    %% Events
    \filldraw (3*6+2.5,-3.5) circle (3pt) node [right,xshift=0.25cm] {\Large\itshape EventX};
\end{tikzternal}}
\LILLYcommand\LILLYxGRAPHICSxSHOW{\GRAPHICSxUMLSEQObserverPattern}