\lstdefinelanguage{lHaskell}{
    language=haskell,
    alsoletter={-|~_.><=:\*'},
    moredelim=**[is][{\lstHLWarning}]{|warn|}{|warn|},
    moredelim=**[is][{\lstHLError}]{|err|}{|err|},
    moredelim=**[il][{\lstHLError}]{|err|:},
    moredelim=**[is][{\lstHLInfo}]{|info|}{|info|},
    moredelim=[is][{}]{|plain|}{|plain|},
    comment=[l]{--},
    deletekeywords={Maybe,Either,Maybe,Either,Nothing,Just,Left,Right,\$},
    morecomment=[s]{\{-}{-\}},
    escapeinside={!*}{*!}, % !! would collide with the '!!' List select operator
    morekeywords = {:l,:cd,:q,:r,:t,String,Char,Bool,Show},
    morekeywords = [2]{<,>,->,=>,<-,>=},
    morekeywords = [3]{True,False,Maybe,Either,Nothing,Just,Left,Right},
    morekeywords = [4]{::,\$},
    morekeywords = [5]{Prelude>,\*Main>},
}
\RegisterLanguage{haskell}{lHaskell}