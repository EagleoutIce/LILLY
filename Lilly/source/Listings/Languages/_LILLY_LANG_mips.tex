% \ExplSyntaxOn
% \DeclareCaptionFont{black}{ \color{black} }
% \DeclareCaptionFormat{none}{
%     \makebox[\textwidth]{#1#2#3}
% }
% \DeclareCaptionFont{black}{ \color{black} }

% \ExplSyntaxOff
% \DeclareCaptionFormat{listing}{
%     \makebox[\textwidth]{#1#2#3}
% }
\newcommand{\mipsgitRAW}{\text{\href{https://www.github.com/EagleoutIce/MIPS_UniUlm_Examples/}{\faGithub}}}
\newcommand{\mipsgit}{\hbox{}\hfill \mipsgitRAW}

\def\noprint#1{}

\ExplSyntaxOn
\NewDocumentCommand \mipsspecifier { }
{
    \tl_set:No \l_demo_tl {\the\use:c{lst@token}}
    \regex_replace_all:nnN { .([a-zA-Z]+[0-9]+) } {\$\c{textcolor}\cB\{ limegreen \cE\}\cB{ \1 \cE} } \l_demo_tl
    \tl_use:N \l_demo_tl
    \noprint
}

\ExplSyntaxOff



\lstdefinelanguage{lMips}{%
    language=TeX,
    %keywordsprefix={\$},
    alsoletter={.:\$1234567890},
    comment=[l]{\#},
    moredelim=**[is][{\lstHLWarning}]{|warn|}{|warn|},
    moredelim=**[is][{\lstHLError}]{|err|}{|err|},
    moredelim=**[il][{\lstHLError}]{|err|:},
    moredelim=**[is][{\lstHLInfo}]{|info|}{|info|},
    moredelim=[is][{}]{|plain|}{|plain|},
    keywordstyle = \color{Azure}, %%KW
    keywordstyle = [2]\LILLYxCODExKEYWORDSTYLE\bfseries, %%KW
    escapeinside={*}{*},
    morestring=[b]',
    morestring=[b]",
    otherkeywords={;,<<,>>},
    morekeywords={\$0,\$1,\$2,\$3,\$4,\$5,\$6,\$7,\$8,\$9,\$10,\$11,\$12,\$13,\$14,\$15,\$16,\$17,\$18,\$19,\$20,\$21,\$22,\$23,\$24,\$25,\$26,\$27,\$28,\$29,\$30,\$zero,\$r0,\$at,\$v0,\$v1,\$a0,\$a1,\$a2,\$a3,\$t0,\$t1,\$t2,\$t3,\$t4,\$t5,\$t6,\$t7,\$s0,\$s1,\$s2,\$s3,\$s4,\$s5,\$s6,\$s7,\$t8,\$t9,\$k0,\$k1,\$gp,\$sp,\$fp,\$ra},
    morekeywords=[2]{while,if,r,ld,st,sr,sl,beq,bnq,add,sub,and,or,not,xor,dec,inc,jmp,addi,sw,addui,add,sw,lw,slti,j,jal,div,mul,hi,lo,jr,addiu,%
    la, lb, li, bne, mult, mflo},
    morekeywords = [3]{.text,.data,.ascii,.word},
    morekeywords = [4]{nop,limegreen,syscall},
    morekeywords = [5]{ERROR,WARNING},
    morekeywords = [6]{.asciiz, .space},
    morekeywords = [6]{hallomama},
    literate={HELP}{{\LILLYxPATH}}1 {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
            {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
            {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
            {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
            {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
            {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
            {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
            {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
            {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
            {ű}{{\H{u}}}1 {Ű}{{\H{U}}}1 {ő}{{\H{o}}}1 {Ő}{{\H{O}}}1
            {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
            {€}{{\euro}}1 {£}{{\pounds}}1 {«}{{\guillemotleft}}1
            {»}{{\guillemotright}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1 %{li}{{  ~\mipsLI}}2
            {:cdot:}{{$\cdot$}}1
}


\RegisterLanguage{mips}{lMips}

% \lstnewenvironment{mips}[1][]
%   {\lstset{language=lMips,#1}}
% {}

% \pushList{RegisteredLanguages}{mips/lMips}
