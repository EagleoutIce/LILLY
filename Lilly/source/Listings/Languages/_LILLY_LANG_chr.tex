\lstdefinelanguage{lChr}{
    alsoletter={-|~{,}_.><=:\*'?\\},
    comment=[l]{\%},
    keywordsprefix={\$},
    morecomment=[s]{/*}{*/},
    escapeinside={!!}{!!},
    morekeywords = {==>,@,<=>,=:=,\\,|,->,<-,>=,=<,builtin,call,:-,is,mod,=,leq}, %% expanded by prolog
    morekeywords = [2]{},
    morekeywords = [3]{},
    morekeywords = [4]{::=,.,chr_constraint,true,false,true.,false.},
    morekeywords = [5]{write,writeq,read},
}
\RegisterLanguage{chr}{lChr}