\lstdefinelanguage{lChr}{
    % language=prolog,
    alsoletter={-,|,~,{,},_,.,>,<,=,:,\*,',?,\\},
    comment=[l]{\%},
    keywordsprefix={\$},
    morecomment=[s]{/*}{*/},
    % morecomment=[s]{\{-}{-\}},
    escapeinside={!!}{!!},
    morekeywords = {==>,@,<=>,=:=,\\,|,->,<-,>=,=<,builtin,call,:-},
    morekeywords = [2]{},
    morekeywords = [3]{},
    morekeywords = [4]{::=,.,chr_constraint,true,false,true.,false.},
    morekeywords = [5]{},
}

\lstnewenvironment{chr}[1][]
  {\lstset{language=lChr,#1}}
{}
\gdef\cchr#1{\LILLYxwriteLst[language=lChr]{#1}}
\gdef\ichr#1{\lstinputlisting[language=lChr]{#1}}

\pushList{RegisteredLanguages}{chr/lChr}
