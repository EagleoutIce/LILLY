\lstdefinelanguage{lAssembler}{
    otherkeywords={R0,R1,R2},
    morekeywords={while,if,ld,st,sr,sl,beq,bnq,add,sub,and,or,not,xor,dec,inc,jmp,addi,sw,addui,add,sw,lw,slti,j,jal,div,mul,hi,lo,MOV,RTI,TRP,JMP,ADD,SUB,MUL,MULT,JEQ,JNE,JLT,JGE,TAS,SWP,SEI,CLI},
    morekeywords=[2]{nop,X,acc},
    comment=[l]{//},
    comment=[l]{\#},
    moredelim=**[is][{\lstHLWarning}]{|warn|}{|warn|},
    moredelim=**[is][{\lstHLError}]{|err|}{|err|},
    moredelim=**[is][{\lstHLInfo}]{|info|}{|info|},
    morecomment=[s]{/*}{*/},
    morestring=[b]',
    sensitive=false,
}

\lstnewenvironment{assembler}[1][]
  {\lstset{language=lAssembler,#1}}
{}

\pushList{RegisteredLanguages}{assembler/lAssembler}