\lstdefinelanguage{lAssembler}{
    morekeywords={while,if,ld,st,sr,sl,beq,bnq,add,sub,and,or,not,xor,dec,inc,jmp,addi,sw,addui,add,sw,lw,slti,j,jal,div,mul,hi,lo,MOV},
    morekeywords=[2]{nop,X,acc},
    comment=[l]{//},
    comment=[l]{\#},
    morecomment=[s]{/*}{*/},
    morestring=[b]',
    sensitive=false,
}

\lstnewenvironment{assembler}[1][]
  {\lstset{language=lAssembler,#1}}
{}


\gdef\cassembler#1{\LILLYxwriteLst[language=lAssembler]{#1}}
\gdef\iassembler#1{\lstinputlisting[language=lAssembler]{#1}}


\pushList{RegisteredLanguages}{assembler/lAssembler}