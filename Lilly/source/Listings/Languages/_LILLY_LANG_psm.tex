\lstdefinelanguage{lPsm}{
language=lSql,
moredelim=**[is][{\itshape}]{|sql|}{|sql|},
morekeywords = {IF},
morekeywords = [2]{},
morekeywords = [3]{},
morekeywords = [4]{RETURNS,LANGUAGE,DECLARE,SET,REPEAT,UNTIL,RETURN,SQL,READS,DATA,FENCED,NAME},
morekeywords = [5]{},
morekeywords = [6]{}
}
\RegisterLanguage{psm}{lPsm}